{"ast":null,"code":"var _jsxFileName = \"/home/usermint/Desktop/dewetours/client/src/pages/details/DetailPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Row, Container, Col } from \"react-bootstrap\";\nimport data from \"../../data/Trip.json\";\nimport NavbarComp from \"../../components/navbar/NavbarComp\";\nimport \"./styledet.css\";\nimport hotlog from \"../../assets/icons/hotlog.png\";\nimport transpot from \"../../assets/icons/plnlog.png\";\nimport clock from \"../../assets/icons/jamlog.png\";\nimport eat from \"../../assets/icons/eatlog.png\";\nimport cal from \"../../assets/icons/callog.png\";\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../context/Contextusr\";\nimport { API } from \"../../config/api\";\nimport LoginMod from \"../../components/modals/LoginMod\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DetailPage({\n  match\n}) {\n  _s();\n\n  var _detail$image, _detail$image2, _detail$image3, _detail$image4;\n\n  const [state, dispatch] = useContext(UserContext);\n  const [authlogin, setauthlogin] = useState(false);\n\n  const rp = require(\"rupiah-format\");\n\n  let history = useHistory();\n  const [detail, setDetail] = useState({});\n  const [cekOrder, setcekOrder] = useState([]);\n  const [qty, setqty] = useState(1);\n  const [isLoading, setisLoading] = useState(true);\n  const {\n    id\n  } = match.params;\n\n  const DetailTrip = async () => {\n    try {\n      var _response$data;\n\n      const response = await API.get(`trip/${id}`);\n      setDetail(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.detail);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getCekOrder = async () => {\n    try {\n      var _responseTwo$data;\n\n      const responseTwo = await API.get(\"/transaction\");\n      setcekOrder(responseTwo === null || responseTwo === void 0 ? void 0 : (_responseTwo$data = responseTwo.data) === null || _responseTwo$data === void 0 ? void 0 : _responseTwo$data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      DetailTrip();\n      getCekOrder();\n      setisLoading(false);\n    }, 2000);\n  }, []);\n\n  const handlePlusqty = () => {\n    if ((detail === null || detail === void 0 ? void 0 : detail.avilable) - (detail === null || detail === void 0 ? void 0 : detail.quota) > qty) {\n      setqty(qty + 1);\n    }\n  };\n\n  const handleMinqty = () => {\n    if (qty > 1) {\n      setqty(qty - 1);\n    }\n  };\n\n  const subtotal = (detail === null || detail === void 0 ? void 0 : detail.price) * qty;\n\n  const handleBook = async () => {\n    if ((state === null || state === void 0 ? void 0 : state.stsLogin) === false) {\n      return setauthlogin(true);\n    }\n\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      };\n      const form = {\n        idtrip: detail === null || detail === void 0 ? void 0 : detail.id,\n        qty: qty\n      };\n      const body = JSON.stringify(form);\n      const response = await API.post(\"/transaction\", body, config);\n      history.push(\"/user/payment\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const cek = cekOrder === null || cekOrder === void 0 ? void 0 : cekOrder.filter(item => (item === null || item === void 0 ? void 0 : item.idtrip) === (detail === null || detail === void 0 ? void 0 : detail.id));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavbarComp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"isloading\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"loading....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: detail === null || detail === void 0 ? void 0 : detail.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: detail === null || detail === void 0 ? void 0 : detail.country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: 12,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: detail === null || detail === void 0 ? void 0 : (_detail$image = detail.image) === null || _detail$image === void 0 ? void 0 : _detail$image[3],\n                alt: \"dfafdsf\",\n                width: \"100%\",\n                className: \"imgs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              className: \"clg\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: detail === null || detail === void 0 ? void 0 : (_detail$image2 = detail.image) === null || _detail$image2 === void 0 ? void 0 : _detail$image2[0],\n                alt: \"dfafdsf\",\n                width: \"100%\",\n                height: \"167\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              className: \"clg\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: detail === null || detail === void 0 ? void 0 : (_detail$image3 = detail.image) === null || _detail$image3 === void 0 ? void 0 : _detail$image3[2],\n                alt: \"dfafdsf\",\n                width: \"100%\",\n                height: \"167\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              className: \"clg\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: detail === null || detail === void 0 ? void 0 : (_detail$image4 = detail.image) === null || _detail$image4 === void 0 ? void 0 : _detail$image4[1],\n                alt: \"dfafdsf\",\n                width: \"100%\",\n                height: \"167\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: \"Information Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-icon\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-content\",\n              children: \"Accomodation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: hotlog,\n              alt: \"logohotel\",\n              height: \"17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"content-text ml-2\",\n              children: [\"Hotel \", detail === null || detail === void 0 ? void 0 : detail.accomodation, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-content\",\n              children: \"Transpotation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: transpot,\n              alt: \"logohotel\",\n              height: \"17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"content-text ml-2\",\n              children: detail === null || detail === void 0 ? void 0 : detail.transpotation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-content\",\n              children: \"Eat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: eat,\n              alt: \"logohotel\",\n              height: \"17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"content-text ml-2 eat\",\n              children: detail === null || detail === void 0 ? void 0 : detail.eat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-icon duration\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-content \",\n              children: \"Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: clock,\n              alt: \"logohotel\",\n              height: \"17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"content-text ml-2\",\n              children: [detail.day, \"/Day \", detail === null || detail === void 0 ? void 0 : detail.night, \"Night\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-content\",\n              children: \"Date Trip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: cal,\n              alt: \"logohotel\",\n              height: \"17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"content-text ml-2\",\n              children: detail === null || detail === void 0 ? void 0 : detail.datetrip\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"desct\",\n          children: detail === null || detail === void 0 ? void 0 : detail.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-transaction\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"price\",\n              children: [rp.convert(detail.price), \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"person\",\n                children: \"/ Person\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-auto container-action\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btntog mr-3\",\n              onClick: handlePlusqty,\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"qty\",\n              children: qty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btntog ml-3\",\n              onClick: handleMinqty,\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-transaction mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"price\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"person\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-auto container-action\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"qty\",\n              children: rp.convert(subtotal)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LoginMod, {\n          handleShow: authlogin,\n          handleClose: () => setauthlogin(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btnbooking\",\n          onClick: handleBook,\n          children: \"Book Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n\n_s(DetailPage, \"JwcEGy4JcL6LzXDsMezwZ/OGLFg=\", false, function () {\n  return [useHistory];\n});\n\n_c = DetailPage;\nexport default DetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailPage\");","map":{"version":3,"sources":["/home/usermint/Desktop/dewetours/client/src/pages/details/DetailPage.js"],"names":["React","useState","useEffect","useContext","Row","Container","Col","data","NavbarComp","hotlog","transpot","clock","eat","cal","useHistory","UserContext","API","LoginMod","DetailPage","match","state","dispatch","authlogin","setauthlogin","rp","require","history","detail","setDetail","cekOrder","setcekOrder","qty","setqty","isLoading","setisLoading","id","params","DetailTrip","response","get","error","console","log","getCekOrder","responseTwo","setTimeout","handlePlusqty","avilable","quota","handleMinqty","subtotal","price","handleBook","stsLogin","config","headers","form","idtrip","body","JSON","stringify","post","push","cek","filter","item","title","country","image","accomodation","transpotation","day","night","datetrip","desc","convert"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Row, Container, Col } from \"react-bootstrap\";\nimport data from \"../../data/Trip.json\";\nimport NavbarComp from \"../../components/navbar/NavbarComp\";\nimport \"./styledet.css\";\nimport hotlog from \"../../assets/icons/hotlog.png\";\nimport transpot from \"../../assets/icons/plnlog.png\";\nimport clock from \"../../assets/icons/jamlog.png\";\nimport eat from \"../../assets/icons/eatlog.png\";\nimport cal from \"../../assets/icons/callog.png\";\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../context/Contextusr\";\nimport { API } from \"../../config/api\";\nimport LoginMod from \"../../components/modals/LoginMod\";\n\nfunction DetailPage({ match }) {\n  const [state, dispatch] = useContext(UserContext);\n  const [authlogin, setauthlogin] = useState(false);\n  const rp = require(\"rupiah-format\");\n\n  let history = useHistory();\n\n  const [detail, setDetail] = useState({});\n  const [cekOrder, setcekOrder] = useState([]);\n  const [qty, setqty] = useState(1);\n  const [isLoading, setisLoading] = useState(true);\n\n  const { id } = match.params;\n\n  const DetailTrip = async () => {\n    try {\n      const response = await API.get(`trip/${id}`);\n      setDetail(response?.data?.detail);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getCekOrder = async () => {\n    try {\n      const responseTwo = await API.get(\"/transaction\");\n\n      setcekOrder(responseTwo?.data?.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      DetailTrip();\n      getCekOrder();\n      setisLoading(false);\n    }, 2000);\n  }, []);\n\n  const handlePlusqty = () => {\n    if (detail?.avilable - detail?.quota > qty) {\n      setqty(qty + 1);\n    }\n  };\n\n  const handleMinqty = () => {\n    if (qty > 1) {\n      setqty(qty - 1);\n    }\n  };\n\n  const subtotal = detail?.price * qty;\n  const handleBook = async () => {\n    if (state?.stsLogin === false) {\n      return setauthlogin(true);\n    }\n\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n      const form = {\n        idtrip: detail?.id,\n        qty: qty,\n      };\n\n      const body = JSON.stringify(form);\n      const response = await API.post(\"/transaction\", body, config);\n      history.push(\"/user/payment\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const cek = cekOrder?.filter((item) => item?.idtrip === detail?.id);\n\n  return (\n    <>\n      <NavbarComp />\n      {isLoading ? (\n        <div className=\"isloading\">\n          <p>loading....</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"content\">\n            <h2>{detail?.title}</h2>\n            <p>{detail?.country}</p>\n\n            <div>\n              <Row>\n                <Col md={12}>\n                  <img\n                    src={detail?.image?.[3]}\n                    alt=\"dfafdsf\"\n                    width=\"100%\"\n                    className=\"imgs\"\n                  />\n                </Col>\n              </Row>\n              <Row className=\"mt-4\">\n                <Col md={4} className=\"clg\">\n                  <img\n                    src={detail?.image?.[0]}\n                    alt=\"dfafdsf\"\n                    width=\"100%\"\n                    height=\"167\"\n                  />\n                </Col>\n                <Col md={4} className=\"clg\">\n                  <img\n                    src={detail?.image?.[2]}\n                    alt=\"dfafdsf\"\n                    width=\"100%\"\n                    height=\"167\"\n                  />\n                </Col>\n                <Col md={4} className=\"clg\">\n                  <img\n                    src={detail?.image?.[1]}\n                    alt=\"dfafdsf\"\n                    width=\"100%\"\n                    height=\"167\"\n                  />\n                </Col>\n              </Row>\n            </div>\n\n            <p className=\"mt-3\">Information Trip</p>\n\n            <div className=\"container-icon\">\n              <div>\n                <span className=\"title-content\">Accomodation</span>\n                <br />\n                <img src={hotlog} alt=\"logohotel\" height=\"17\" />\n                <span className=\"content-text ml-2\">\n                  Hotel {detail?.accomodation}{\" \"}\n                </span>\n              </div>\n              <div className=\"content-icon\">\n                <span className=\"title-content\">Transpotation</span>\n                <br />\n                <img src={transpot} alt=\"logohotel\" height=\"17\" />\n                <span className=\"content-text ml-2\">\n                  {detail?.transpotation}\n                </span>\n              </div>\n              <div className=\"content-icon\">\n                <span className=\"title-content\">Eat</span>\n                <br />\n                <img src={eat} alt=\"logohotel\" height=\"17\" />\n                <span className=\"content-text ml-2 eat\">{detail?.eat}</span>\n              </div>\n              <div className=\"content-icon duration\">\n                <span className=\"title-content \">Duration</span>\n                <br />\n                <img src={clock} alt=\"logohotel\" height=\"17\" />\n                <span className=\"content-text ml-2\">\n                  {detail.day}/Day {detail?.night}Night\n                </span>\n              </div>\n              <div className=\"ml-auto\">\n                <span className=\"title-content\">Date Trip</span>\n                <br />\n                <img src={cal} alt=\"logohotel\" height=\"17\" />\n                <span className=\"content-text ml-2\">{detail?.datetrip}</span>\n              </div>\n            </div>\n            <p className=\"mt-3\">Description</p>\n            <p className=\"desct\">{detail?.desc}</p>\n\n            <div className=\"content-transaction\">\n              <div>\n                <p className=\"price\">\n                  {rp.convert(detail.price)} <b className=\"person\">/ Person</b>\n                </p>\n              </div>\n              <div className=\"ml-auto container-action\">\n                <button className=\"btntog mr-3\" onClick={handlePlusqty}>\n                  +\n                </button>\n                <p className=\"qty\">{qty}</p>\n                <button className=\"btntog ml-3\" onClick={handleMinqty}>\n                  -\n                </button>\n              </div>\n            </div>\n\n            <div className=\"content-transaction mt-3\">\n              <div>\n                <p className=\"price\">\n                  <b className=\"person\">Total</b>\n                </p>\n              </div>\n              <div className=\"ml-auto container-action\">\n                <p className=\"qty\">{rp.convert(subtotal)}</p>\n              </div>\n            </div>\n            <LoginMod\n              handleShow={authlogin}\n              handleClose={() => setauthlogin(false)}\n            />\n            <button className=\"btnbooking\" onClick={handleBook}>\n              Book Now\n            </button>\n          </div>\n          <br />\n          <br />\n        </>\n      )}\n    </>\n  );\n}\n\nexport default DetailPage;\n"]},"metadata":{},"sourceType":"module"}